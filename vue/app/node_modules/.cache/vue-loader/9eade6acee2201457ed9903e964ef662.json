{"remainingRequest":"C:\\Users\\Asus\\djangoProgs\\proj2\\5_Email_Automation_and_Spatial_Analysis_A\\vue\\app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Asus\\djangoProgs\\proj2\\5_Email_Automation_and_Spatial_Analysis_A\\vue\\app\\src\\views\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Asus\\djangoProgs\\proj2\\5_Email_Automation_and_Spatial_Analysis_A\\vue\\app\\src\\views\\login.vue","mtime":1592260445403},{"path":"C:\\Users\\Asus\\djangoProgs\\proj2\\5_Email_Automation_and_Spatial_Analysis_A\\vue\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Asus\\djangoProgs\\proj2\\5_Email_Automation_and_Spatial_Analysis_A\\vue\\app\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Asus\\djangoProgs\\proj2\\5_Email_Automation_and_Spatial_Analysis_A\\vue\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Asus\\djangoProgs\\proj2\\5_Email_Automation_and_Spatial_Analysis_A\\vue\\app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgQXV0aFNlcnZpY2UgZnJvbSAnLi4vYXV0aC9BdXRoU2VydmljZS5qcycNCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycNCg0KY29uc3QgQVBJX1VSTCA9ICdodHRwOi8vMTI3LjAuMC4xOjgwODEnDQoNCmNvbnN0IGF1dGggPSBuZXcgQXV0aFNlcnZpY2UoKQ0KLy8gdGhpcy4kc3RvcmUuY29tbWl0KCdjaGFuZ2VBdXRoJywgYXV0aCkNCmV4cG9ydCBkZWZhdWx0IHsNCiAgZGF0YSAoKSB7DQogICAgdGhpcy4kc3RvcmUuY29tbWl0KCdjaGFuZ2VBdXRoJywgYXV0aCkNCiAgICB0aGlzLmhhbmRsZUF1dGhlbnRpY2F0aW9uKCkNCiAgICB0aGlzLmF1dGhlbnRpY2F0ZWQgPSBmYWxzZQ0KDQogICAgYXV0aC5hdXRoTm90aWZpZXIub24oJ2F1dGhDaGFuZ2UnLCBhdXRoU3RhdGUgPT4gew0KICAgICAgdGhpcy5hdXRoZW50aWNhdGVkID0gYXV0aFN0YXRlLmF1dGhlbnRpY2F0ZWQNCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnY2hhbmdlU3RhdGUnLCB0aGlzLmF1dGhlbnRpY2F0ZWQpDQogICAgICBpZiAoIXRoaXMuYXV0aGVudGljYXRlZCAmJiAhdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRBdXRoZW50aWNhdGVkKSB7DQogICAgICAgIGNvbnNvbGUubG9nKCdMb2dnZWQgT3V0JykNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGNvbnNvbGUubG9nKCdMb2dnZWQgSW4nKQ0KICAgICAgfQ0KICAgIH0pDQogICAgcmV0dXJuIHsNCiAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlLA0KICAgICAgbWVzc2FnZTogJycNCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAvLyB0aGlzIG1ldGhvZCBjYWxscyB0aGUgQXV0aFNlcnZpY2UgbG9naW4oKSBtZXRob2QNCiAgICBsb2dpbiAoKSB7DQogICAgICBhdXRoLmxvZ2luKCkNCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnY2hhbmdlQXV0aCcsIGF1dGgpDQogICAgICAvKg0KICAgICAgY29uc29sZS5sb2coJ2xvZ2luJykNCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0QXV0aGVudGljYXRlZCkNCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0QXV0aCkNCiAgICAgICovDQogICAgfSwNCiAgICBoYW5kbGVBdXRoZW50aWNhdGlvbiAoKSB7DQogICAgICBhdXRoLmhhbmRsZUF1dGhlbnRpY2F0aW9uKCkNCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnY2hhbmdlQXV0aCcsIGF1dGgpDQogICAgfSwNCiAgICBsb2dvdXQgKCkgew0KICAgICAgYXV0aC5sb2dvdXQoKQ0KICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdjaGFuZ2VBdXRoJywgYXV0aCkNCiAgICB9LA0KICAgIHByaXZhdGVNZXNzYWdlICgpIHsNCiAgICAgIGNvbnN0IHVybCA9IGAke0FQSV9VUkx9L2FwaS9wcml2YXRlL2ANCiAgICAgIHJldHVybiBheGlvcy5nZXQodXJsLCB7IGhlYWRlcnM6IHsgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke2F1dGguZ2V0QXV0aFRva2VuKCl9YCB9IH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpDQogICAgICAgIHRoaXMubWVzc2FnZSA9IHJlc3BvbnNlLmRhdGEgfHwgJycNCiAgICAgIH0pDQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n\r\n  <div id=\"login\">\r\n\r\n      <button id=\"butt\" type=\"button\" name=\"button\" v-if=\"authenticated\"><router-link to=\"/home\">Home</router-link></button>\r\n\r\n          <button\r\n      class=\"btn btn-primary btn-margin\"\r\n      v-if=\"!authenticated\"\r\n      @click=\"login()\">\r\n      Log In\r\n    </button>\r\n\r\n    <button\r\n      class=\"btn btn-primary btn-margin\"\r\n      v-if=\"authenticated\"\r\n      @click=\"privateMessage()\">\r\n      Call Private\r\n    </button>\r\n\r\n    <button\r\n      class=\"btn btn-primary btn-margin\"\r\n      v-if=\"authenticated\"\r\n      @click=\"logout()\">\r\n      Log Out\r\n    </button>\r\n    {{ message }}\r\n    <br>\r\n\r\n    <!--  <router-link to=\"/about\">About</router-link> -->\r\n    <router-view/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AuthService from '../auth/AuthService.js'\r\nimport axios from 'axios'\r\n\r\nconst API_URL = 'http://127.0.0.1:8081'\r\n\r\nconst auth = new AuthService()\r\n// this.$store.commit('changeAuth', auth)\r\nexport default {\r\n  data () {\r\n    this.$store.commit('changeAuth', auth)\r\n    this.handleAuthentication()\r\n    this.authenticated = false\r\n\r\n    auth.authNotifier.on('authChange', authState => {\r\n      this.authenticated = authState.authenticated\r\n      this.$store.commit('changeState', this.authenticated)\r\n      if (!this.authenticated && !this.$store.getters.getAuthenticated) {\r\n        console.log('Logged Out')\r\n      } else {\r\n        console.log('Logged In')\r\n      }\r\n    })\r\n    return {\r\n      authenticated: false,\r\n      message: ''\r\n    }\r\n  },\r\n  methods: {\r\n    // this method calls the AuthService login() method\r\n    login () {\r\n      auth.login()\r\n      this.$store.commit('changeAuth', auth)\r\n      /*\r\n      console.log('login')\r\n      console.log(this.$store.getters.getAuthenticated)\r\n      console.log(this.$store.getters.getAuth)\r\n      */\r\n    },\r\n    handleAuthentication () {\r\n      auth.handleAuthentication()\r\n      this.$store.commit('changeAuth', auth)\r\n    },\r\n    logout () {\r\n      auth.logout()\r\n      this.$store.commit('changeAuth', auth)\r\n    },\r\n    privateMessage () {\r\n      const url = `${API_URL}/api/private/`\r\n      return axios.get(url, { headers: { Authorization: `Bearer ${auth.getAuthToken()}` } }).then((response) => {\r\n        console.log(response.data)\r\n        this.message = response.data || ''\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<!--\r\nbackground: linear-gradient(0deg, rgba(37, 48, 51, 0.95), rgba(37, 48, 51, 0.95)), linear-gradient(0deg, rgba(37, 48, 51, 0.95), rgba(37, 48, 51, 0.95)), rgba(37, 48, 51, 0.95);\r\n-->\r\n<style>\r\n#login {\r\n  margin: 10px;\r\n  padding: 10px;\r\n}\r\n\r\n#butt{\r\n  background: linear-gradient(0deg, rgba(37, 48, 51, 0.95), rgba(37, 48, 51, 0.95)), linear-gradient(0deg, rgba(37, 48, 51, 0.95), rgba(37, 48, 51, 0.95)), rgba(37, 48, 51, 0.95);\r\n  border: 1px solid rgba(145, 146, 165, 0.71);\r\n  width:150px;\r\n}\r\na.router-link-exact-active {\r\n  color: #42b983;\r\n}\r\n</style>\r\n"]}]}